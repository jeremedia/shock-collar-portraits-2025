<% content_for :title, "Admin Help" %>
<% content_for :page_title, "Admin Help & Tasks" %>
<% content_for :page_subtitle, "Guide for hero selection and tagging" %>

<%= render 'shared/oknotok_admin_layout' do %>
  <div class="grid gap-8 lg:grid-cols-2">
    <!-- Section 1: Review Sessions -->
    <div class="oknotok-card">
      <h2 class="text-2xl text-yellow-500 font-bold mb-4 flex items-center">
        <span class="text-3xl mr-3">üì∏</span>
        1. Review Sessions & Select Heroes
      </h2>
      <p class="text-gray-300 mb-6">
        Use the gallery session viewer to confirm each sitting has the best hero image selected.
      </p>

      <div class="space-y-4">
        <div class="flex items-start">
          <span class="text-red-500 font-bold mr-2">‚Üí</span>
          <div class="flex-1">
            <p class="text-gray-300">Open the <%= link_to "Gallery", gallery_index_path, class: "oknotok-link font-semibold" %> and click into a session.</p>
          </div>
        </div>

        <div class="flex items-start">
          <span class="text-red-500 font-bold mr-2">‚Üí</span>
          <div class="flex-1">
            <p class="text-gray-300">Use arrow keys or onscreen controls to scan through photos.</p>
          </div>
        </div>

        <div class="flex items-start">
          <span class="text-red-500 font-bold mr-2">‚Üí</span>
          <div class="flex-1">
            <p class="text-gray-300">Click "Set as Hero" on the image that best represents the sitting.</p>
          </div>
        </div>

        <div class="flex items-start">
          <span class="text-red-500 font-bold mr-2">‚Üí</span>
          <div class="flex-1">
            <p class="text-gray-300">If a session feels incomplete, use split/merge controls or flag in Slack.</p>
          </div>
        </div>
      </div>

      <div class="mt-6 p-4 bg-gray-800 border-l-4 border-yellow-500 rounded">
        <p class="text-sm text-gray-300">
          <span class="font-semibold text-yellow-500">üí° Pro Tip:</span>
          Turn on "Faces Only" in the gallery footer to quickly scan face-heavy sessions.
        </p>
      </div>
    </div>

    <!-- Section 2: Apply Tags -->
    <div class="oknotok-card">
      <h2 class="text-2xl text-yellow-500 font-bold mb-4 flex items-center">
        <span class="text-3xl mr-3">üè∑Ô∏è</span>
        2. Apply Tags to Hero Photos
      </h2>
      <p class="text-gray-300 mb-6">
        Tags power filtered views and help track special costumes, props, and moments.
      </p>

      <div class="space-y-4">
        <div class="flex items-start">
          <span class="text-red-500 font-bold mr-2">‚Üí</span>
          <div class="flex-1">
            <p class="text-gray-300">Open the <%= link_to "Heroes Browser", heroes_path, class: "oknotok-link font-semibold" %> to see all hero shots.</p>
          </div>
        </div>

        <div class="flex items-start">
          <span class="text-red-500 font-bold mr-2">‚Üí</span>
          <div class="flex-1">
            <p class="text-gray-300">Click a hero photo to open the detail panel with tagging sidebar.</p>
          </div>
        </div>

        <div class="flex items-start">
          <span class="text-red-500 font-bold mr-2">‚Üí</span>
          <div class="flex-1">
            <p class="text-gray-300">Click tags to apply them instantly (no need to save).</p>
          </div>
        </div>

        <div class="flex items-start">
          <span class="text-red-500 font-bold mr-2">‚Üí</span>
          <div class="flex-1">
            <p class="text-gray-300">Tags are organized by category: Gender, Quality, Expression, Appearance, Accessories.</p>
          </div>
        </div>
      </div>

      <div class="mt-6 p-4 bg-gray-800 border-l-4 border-yellow-500 rounded">
        <p class="text-sm text-gray-300">
          <span class="font-semibold text-yellow-500">üí° Pro Tip:</span>
          Your tag selections are saved automatically to localStorage and persist between sessions.
        </p>
      </div>
    </div>
  </div>

  <!-- Quick Actions Section -->
  <div class="oknotok-card mt-8">
    <h2 class="text-2xl text-yellow-500 font-bold mb-6 flex items-center">
      <span class="text-3xl mr-3">‚ö°</span>
      Quick Actions
    </h2>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
      <%= link_to gallery_index_path, class: "block p-4 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-yellow-500 rounded-lg transition group" do %>
        <div class="text-yellow-500 font-semibold group-hover:text-yellow-400">Browse Gallery</div>
        <div class="text-sm text-gray-400 mt-1">Review all sessions and photos</div>
      <% end %>

      <%= link_to heroes_path, class: "block p-4 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-yellow-500 rounded-lg transition group" do %>
        <div class="text-yellow-500 font-semibold group-hover:text-yellow-400">Heroes Browser</div>
        <div class="text-sm text-gray-400 mt-1">View and tag hero photos</div>
      <% end %>

      <%= link_to admin_dashboard_path, class: "block p-4 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-yellow-500 rounded-lg transition group" do %>
        <div class="text-yellow-500 font-semibold group-hover:text-yellow-400">Admin Dashboard</div>
        <div class="text-sm text-gray-400 mt-1">View stats and manage data</div>
      <% end %>
    </div>
  </div>

  <!-- Communication Section -->
  <div class="oknotok-card mt-8">
    <h2 class="text-2xl text-yellow-500 font-bold mb-4 flex items-center">
      <span class="text-3xl mr-3">üí¨</span>
      Communication & Questions
    </h2>
    <div class="prose prose-invert max-w-none">
      <p class="text-gray-300 text-lg leading-relaxed">
        Share findings in the <span class="font-semibold text-red-400">#oknotok-portraits</span> Slack channel‚Äîespecially:
      </p>
      <ul class="mt-4 space-y-2">
        <li class="text-gray-300 flex items-start">
          <span class="text-yellow-500 mr-2">‚Ä¢</span>
          Missing or incorrectly selected hero photos
        </li>
        <li class="text-gray-300 flex items-start">
          <span class="text-yellow-500 mr-2">‚Ä¢</span>
          Sessions that need splitting or merging
        </li>
        <li class="text-gray-300 flex items-start">
          <span class="text-yellow-500 mr-2">‚Ä¢</span>
          New tag categories we should formalize
        </li>
        <li class="text-gray-300 flex items-start">
          <span class="text-yellow-500 mr-2">‚Ä¢</span>
          Technical issues or bugs you encounter
        </li>
      </ul>

      <div class="mt-6 p-4 bg-gray-800 border-l-4 border-yellow-500 rounded">
        <p class="text-sm text-gray-300 mb-3">
          <span class="font-semibold text-yellow-500">üì± Join the Slack Channel:</span>
        </p>
        <a href="https://join.slack.com/t/oknotok-workspace/shared_invite/zt-3deehzwvr-1wNErKFiwQ2jA8hGK6PYzg"
           target="_blank"
           rel="noopener noreferrer"
           class="inline-flex items-center px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded transition">
          <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
            <path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"/>
          </svg>
          Join OKNOTOK Workspace
        </a>
        <p class="text-xs text-gray-500 mt-2">
          Click to join the #oknotok-portraits channel for team communication
        </p>
      </div>
    </div>
  </div>

  <!-- Keyboard Shortcuts -->
  <div class="oknotok-card mt-8">
    <h2 class="text-2xl text-yellow-500 font-bold mb-4 flex items-center">
      <span class="text-3xl mr-3">‚å®Ô∏è</span>
      Keyboard Shortcuts
    </h2>

    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <h3 class="text-lg font-semibold text-red-400 mb-3">Gallery Viewer</h3>
        <div class="space-y-2">
          <div class="flex justify-between">
            <span class="text-gray-400">Next Photo</span>
            <kbd class="px-2 py-1 bg-gray-800 border border-gray-700 rounded text-sm text-yellow-500">‚Üí</kbd>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-400">Previous Photo</span>
            <kbd class="px-2 py-1 bg-gray-800 border border-gray-700 rounded text-sm text-yellow-500">‚Üê</kbd>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-400">Close Viewer</span>
            <kbd class="px-2 py-1 bg-gray-800 border border-gray-700 rounded text-sm text-yellow-500">ESC</kbd>
          </div>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold text-red-400 mb-3">Heroes Browser</h3>
        <div class="space-y-2">
          <div class="flex justify-between">
            <span class="text-gray-400">Next Hero</span>
            <kbd class="px-2 py-1 bg-gray-800 border border-gray-700 rounded text-sm text-yellow-500">‚Üí</kbd>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-400">Previous Hero</span>
            <kbd class="px-2 py-1 bg-gray-800 border border-gray-700 rounded text-sm text-yellow-500">‚Üê</kbd>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-400">Back to Grid</span>
            <kbd class="px-2 py-1 bg-gray-800 border border-gray-700 rounded text-sm text-yellow-500">ESC</kbd>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>