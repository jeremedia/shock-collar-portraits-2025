<% content_for :title, "Accept Invitation - OKNOTOK 2025" %>

<div class="min-h-screen bg-black flex items-center justify-center px-4 py-12" data-controller="face-grid-background" data-face-grid-background-opacity-value="30" data-face-grid-background-interval-value="5000">
  <div class="max-w-md w-full">
    <!-- Logo/Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-yellow-500 mb-2">⚡ OKNOTOK 2025 ⚡</h1>
      <h2 class="text-2xl text-red-400 mb-1">Shock Collar Portraits</h2>
      <p class="text-gray-400 text-lg">Accept Your Invitation</p>
    </div>

    <% if resource.admin? %>
      <div class="bg-gray-900 border-2 border-red-600 rounded-lg p-6 mb-6">
        <h3 class="text-yellow-400 font-semibold">Admin Invitation</h3>
        <p class="text-sm text-gray-200 mt-1">
          Completing this invite gives you admin tools for hero selection and tagging.
          After you join, we’ll redirect you to the admin help page so you can review the workflow.
        </p>
      </div>
    <% end %>

    <!-- Form Container -->
    <div class="bg-gray-900 border-2 border-red-600 rounded-lg p-8">
      <%= form_for(resource, as: resource_name, url: invitation_path(resource_name), html: { method: :put }) do |f| %>
        <%= render "devise/shared/error_messages", resource: resource %>
        <%= f.hidden_field :invitation_token, readonly: true %>

        <% if f.object.class.require_password_on_accepting %>
          <!-- Password Field -->
          <div class="mb-6">
            <%= f.label :password, class: "block text-yellow-500 text-sm font-bold mb-2" %>
            <%= f.password_field :password,
                autocomplete: "new-password",
                class: "w-full px-3 py-2 bg-black border-2 border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",
                placeholder: "Choose a strong password" %>
            <p class="mt-1 text-xs text-gray-500">Minimum 6 characters</p>
          </div>

          <!-- Password Confirmation Field -->
          <div class="mb-6">
            <%= f.label :password_confirmation, class: "block text-yellow-500 text-sm font-bold mb-2" %>
            <%= f.password_field :password_confirmation,
                autocomplete: "new-password",
                class: "w-full px-3 py-2 bg-black border-2 border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",
                placeholder: "Confirm your password" %>
          </div>
        <% end %>

        <!-- Name Field (if User has name attribute) -->
        <% if resource.respond_to?(:name) %>
          <div class="mb-6">
            <%= f.label :name, "Your Name", class: "block text-yellow-500 text-sm font-bold mb-2" %>
            <%= f.text_field :name,
                autofocus: true,
                class: "w-full px-3 py-2 bg-black border-2 border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",
                placeholder: "Enter your name" %>
          </div>
        <% end %>

        <!-- Submit Button -->
        <div class="mb-6">
          <%= f.submit "Accept Invitation & Join",
              class: "w-full px-4 py-3 bg-yellow-500 hover:bg-yellow-400 text-black font-bold rounded-lg transition-colors duration-200 cursor-pointer" %>
        </div>

        <!-- Additional Info -->
        <div class="text-center">
          <p class="text-gray-500 text-sm">
            By accepting this invitation, you'll have access to<br>
            the OKNOTOK Shock Collar Portrait gallery
          </p>
        </div>
      <% end %>
    </div>

    <!-- Footer -->
    <div class="text-center mt-6">
      <p class="text-gray-600 text-xs">
        OKNOTOK 2025
      </p>
    </div>
  </div>
</div>

<style>
  /* Remove default browser styles for inputs */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px black inset !important;
    -webkit-text-fill-color: white !important;
  }
</style>
